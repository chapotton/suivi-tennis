// ... Tout le code reste inchangé jusqu'à la fonction renderRanking()

function renderRanking() {
  const exercices = [
    "Aller-retour largeur",
    "Aller longueur",
    "Aller-retour longueur",
    "Aller-retour largeur avec lignes"
  ];
  const jours = ["j0", "j1", "j2", "j3", "j4", "j5", "j6", "j7"];
  const rankingZone = document.getElementById("rankingTable");
  const tbody = rankingZone.querySelector("tbody");
  tbody.innerHTML = "";

  rankingZone.querySelector("caption").textContent = "Classements par exercice (meilleur temps)";

  exercices.forEach((exo, idx) => {
    const data = joueurs.map(joueur => {
      let best = Infinity;
      for (let i = 0; i < jours.length; i++) {
        const val = parseFloat(localStorage.getItem(`${joueur}-${exo}-${jours[i]}`));
        if (!isNaN(val) && val < best) best = val;
      }
      return { joueur, best: best === Infinity ? null : best };
    }).filter(j => j.best !== null);

    data.sort((a, b) => a.best - b.best);

    const header = document.createElement("tr");
    header.innerHTML = `<td colspan="3" style="font-weight:bold;background:#e6f0fa;">${exo}</td>`;
    tbody.appendChild(header);

    data.forEach((j, index) => {
      const row = document.createElement("tr");
      row.innerHTML = `<td>${index + 1}</td><td>${j.joueur}</td><td>${j.best.toFixed(2)}</td>`;
      tbody.appendChild(row);
    });
  });

  rankingZone.style.display = "table";
}

// ... reste du code inchangé
